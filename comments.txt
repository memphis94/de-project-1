Файл для комментариев и ответов.

Всеволод, привет!

Спасибо за правильные замечания. С ними код стал более читаемый. 

Сделал проект открытым. Изменённые файлы с приставкой V2


Наполнение витрины данными:
Изначально я думал, что нужно оттталкиваться от разницы 
между последним заказом каждого клиента и его предыдущим (невнимательно прочитал), запрос на обновление был ещё сложнее, в итоге перечитал задание 
и решил просто доработать предыдущий диланный запрос. Также не удалил проверки по количеству строк из общего запроса. 

Обновление представления:
Переписал код по твоей рекомендации.